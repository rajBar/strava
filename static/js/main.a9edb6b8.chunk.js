(this.webpackJsonpstrava=this.webpackJsonpstrava||[]).push([[0],{46:function(e,t,n){e.exports=n(82)},51:function(e,t,n){},52:function(e,t,n){},77:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"usersWatcher",(function(){return Ne}));var r=n(0),i=n.n(r),c=n(27),s=n.n(c),l=(n(51),n(12)),u=n(13),o=n(16),m=n(15),d=(n(52),n(14)),v=n(7),p=n.n(v),y=n(5),f=n(23),b=n(21),h=n(6),E=n(10),k=n(42),w=n(25),S=(n(77),n(43)),T=function(e){Object(o.a)(n,e);var t=Object(m.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"parseOptions",value:function(e,t){return{title:"Lifetime "+e+"s",hAxis:{title:"date"},vAxis:{title:"cycle"===e?("km"===t?"k":"m")+"ph":"min/"+("run"===e?t:"km"===t?"100m":"100y"),gridlines:{units:{hours:{format:[""]},minutes:{format:["mm:ss"]},seconds:{format:["mm:ss"]}}}},bubble:{textStyle:{fontSize:11}}}}},{key:"render",value:function(){var e=this.props,t=e.currentActivityType,n=e.activityUnit,a=e.chartData,r=e.chartDataCurrentYear,c=e.currentYear?r:a,s=t?this.parseOptions(t,n):[];return i.a.createElement("div",{className:"App"},i.a.createElement(S.a,{chartType:"BubbleChart",width:"100%",height:"400px",data:c,options:s}))}}]),n}(r.Component),g=n(8),C=n.n(g),j=n(20),O=function(e){return e.users.users.map((function(e){return e.name}))},D=function(e){return e.users.currentUser},U=30,N=60,_=5,F=new Date,x=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"][F.getMonth()],R=function(e){return e.activities.activities},A=function(e){return e.activities.currentActivityType},M=function(e){return e.activities.activityUnit},I=Object(j.a)(R,D,(function(e,t){return C.a.find(e,(function(e){return e.name===t}))})),B=Object(j.a)(I,A,(function(e,t){switch(t){case"run":return null===e||void 0===e?void 0:e.allRuns;case"cycle":return null===e||void 0===e?void 0:e.allCycles;case"swim":return null===e||void 0===e?void 0:e.allSwims}})),H=function(e){var t=new Date,n=new Date(e);return t.getFullYear()===n.getFullYear()},Y=Object(j.a)(R,(function(e){var t=[];return e.forEach((function(e){var n=C.a.filter(e.allCycles,(function(e){return H(e.startDate)})),a=C.a.filter(e.allRuns,(function(e){return H(e.startDate)})),r=C.a.filter(e.allSwims,(function(e){return H(e.startDate)})),i=a.reduce((function(e,t){return e+(parseFloat(t.distance)||0)}),0),c=n.reduce((function(e,t){return e+(parseFloat(t.distance)||0)}),0),s=r.reduce((function(e,t){return e+(parseFloat(t.distance)||0)}),0),l=Object(y.a)(Object(y.a)({},e),{},{allRuns:a,runDistance:i.toFixed(2),runDistanceMile:(.6214*i).toFixed(2),runQuantity:a.length,allCycles:n,bikeDistance:c.toFixed(2),bikeDistanceMile:(.6214*c).toFixed(2),bikeQuantity:n.length,allSwims:r,swimDistance:(s/1e3).toFixed(2),swimDistanceMile:(.6214*s/1e3).toFixed(2),swimQuantity:r.length});t.push(l)})),t})),Q=Object(j.a)(Y,(function(e){var t=e.map((function(e){return function(e){var t=(new Date).getMonth()+1,n=U*t,a=N*t,r=_*t,i=e.runDistance,c=e.bikeDistance,s=e.swimDistance,l=i>n?100:i/n*100,u=c>a?100:c/a*100,o=s>r?100:s/r*100,m=(l+u+o)/3===100?s/r*100/3:(l+u+o)/3;return Object(y.a)(Object(y.a)({},e),{},{totalPercentage:m})}(e)}));return C.a.orderBy(t,["totalPercentage"],["desc"])})),V=Object(j.a)(Q,D,(function(e,t){return C.a.find(e,(function(e){return e.name===t}))})),G=Object(j.a)(V,A,(function(e,t){switch(t){case"run":return null===e||void 0===e?void 0:e.allRuns;case"cycle":return null===e||void 0===e?void 0:e.allCycles;case"swim":return null===e||void 0===e?void 0:e.allSwims}})),J=function(e){var t=e.split("/"),n=parseInt(t[0]),a=parseInt(t[1])-1,r=parseInt(t[2])+2e3;return new Date(r,a,n)},L=function(e,t,n){var a=[],r=["ID","Date","run"===t?"N/A":"Speed (km/h)","km"===n?"run"===t?"2.5":"cycle"===t?"5":"swim"===t?"400":"1":"3m","Distance"];return a.push(r),C.a.sortBy(e,(function(e){return parseFloat(e.distance)})).forEach((function(e){var r="km"===n?e.averageSpeed:e.averageSpeedMile,i="km"===n?e.distance:e.distanceMile,c="km"===n?function(e,t){var n=parseFloat(e),a="run"===t?2.5:"cycle"===t?5:"swim"===t?400:1,r=Math.ceil(n/a)*a;return r-a+"k - "+r+"k"}(i,t):function(e){var t=parseFloat(e),n=3*Math.ceil(t/3);return n-3+"m - "+n+"m"}(i),s=parseFloat(r);"run"!==t&&"swim"!==t||(s=function(e){var t=e.toString().split("."),n=parseInt(t[0]),a=parseInt(t[1]);return new Date(2e3,0,1,1,n,a,0)}(r));var l=[r,J(e.date),s,c,parseFloat(i)];a.push(l)})),a},P=Object(j.a)(B,M,A,(function(e,t,n){return L(e,n,t)})),X=Object(j.a)(G,M,A,(function(e,t,n){return L(e,n,t)})),W=Object(d.b)((function(e){return{currentActivityType:A(e),activityUnit:M(e),chartData:P(e),chartDataCurrentYear:X(e)}}),(function(e){return{}}))(T),z=function(e){Object(o.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={tableHead:["Name","No. Runs","Run Distance","No. Cycles","Cycle Distance","No. Swims","Swim Distance"],tableHeadSecond:["Date","Activity","Distance","Average Speed","Activity Time","Elevation Gain"],tableHeadSwim:["Date","Activity","Distance","Average Speed","Activity Time"],sort:{field:"date",direction:!0}},a}return Object(u.a)(n,[{key:"getHeader",value:function(e,t){var n=this;return e.map((function(e){return t?i.a.createElement("th",{className:"myTableHeaders",onClick:function(){return n.setSort(e)}},e):i.a.createElement("th",{className:"myTableHeaders"},e)}))}},{key:"setSort",value:function(e){var t=this.state.sort,n=e!==t.field||!t.direction;this.setState(Object(y.a)(Object(y.a)({},this.state),{},{sort:{field:e,direction:n}}))}},{key:"singleSetUser",value:function(e){var t=this.props,n=t.currentUser,a=t.setCurrentUser;e!==n&&a(e)}},{key:"setUser",value:function(e){var t=this.props,n=t.currentUser,a=t.setCurrentUser,r=window.location.href.split("/"),i=r[r.length-1];this.props.userNames.includes(i)&&i!==e&&(window.location=window.location.href.replace(i,"")),a(n===e?"":e)}},{key:"getRowsData",value:function(e,t){var n=this,a=this.props,r=a.currentUser,c=a.activityUnit,s=e.name;return i.a.createElement("tr",{className:r===s?"selectedRow":"selectableRow",onClick:function(){return n.setUser(s)}},i.a.createElement("td",{key:t,className:"myTableContents"},i.a.createElement(b.b,{className:"hidden-link",to:"/home/".concat(s)},s)),i.a.createElement("td",{key:t,className:"myTableContents"},e.runQuantity),i.a.createElement("td",{key:t,className:"myTableContents"},"km"===c?e.runDistance+"km":e.runDistanceMile+"miles"),i.a.createElement("td",{key:t,className:"myTableContents"},e.bikeQuantity),i.a.createElement("td",{key:t,className:"myTableContents"},"km"===c?e.bikeDistance+"km":e.bikeDistanceMile+"miles"),i.a.createElement("td",{key:t,className:"myTableContents"},e.swimQuantity),i.a.createElement("td",{key:t,className:"myTableContents"},"km"===c?e.swimDistance+"km":e.swimDistanceMile+"miles"))}},{key:"detailedRows",value:function(){var e=this.props,t=e.currentUser,n=e.currentActivityType,a=e.setCurrentActivityType,r=e.activityUnit,c=e.userNames,s=this.getSortedCurrentUserRows();return c.includes(t)?i.a.createElement("div",null,i.a.createElement("button",{className:"run"===n?"selectedButton":"nonSelectedButton",onClick:function(){return a("run")}},"Run"),i.a.createElement("button",{className:"cycle"===n?"selectedButton":"nonSelectedButton",onClick:function(){return a("cycle")}},"Cycle"),i.a.createElement("button",{className:"swim"===n?"selectedButton":"nonSelectedButton",onClick:function(){return a("swim")}},"Swim"),s.length>0?i.a.createElement("div",null,i.a.createElement(W,null),i.a.createElement("table",{className:"myTableTwo"},i.a.createElement("thead",null,i.a.createElement("tr",null,"swim"!==n?this.getHeader(this.state.tableHeadSecond,"sorting function"):this.getHeader(this.state.tableHeadSwim,"sorting function"))),i.a.createElement("tbody",null,s.map((function(e){var t="km"===r?"km":"mile",a="km"===r?"k":"m",c="km"===r?"100m":"100y";return i.a.createElement("tr",null,i.a.createElement("td",null,e.date),i.a.createElement("td",null,e.activity),i.a.createElement("td",null,"km"===r?e.distance+("swim"===n?"m":" km"):e.distanceMile+" miles"),i.a.createElement("td",null,"km"===r?e.averageSpeed:e.averageSpeedMile,"cycle"===n?a+"ph":"min/"+("run"===n?t:c)),i.a.createElement("td",null,e.movingTime," min"),"swim"!==n?i.a.createElement("td",null,e.elevationGain," m"):null)}))))):i.a.createElement("h6",{style:{paddingTop:"20px"}},t," is yet to ",n)):i.a.createElement("br",null)}},{key:"getSortedCurrentUserRows",value:function(){var e=this.props.currentUserCurrentActivityData,t=e?Object(w.a)(e):[],n=this.state.sort;return"Date"===n.field?t=Object(w.a)(e):"Distance"===n.field?t=n.direction?C.a.orderBy(t,(function(e){return Number(e.distance)}),"asc"):C.a.orderBy(t,(function(e){return Number(e.distance)}),"desc"):"Average Speed"===n.field?t=n.direction?C.a.orderBy(t,(function(e){return Number(e.averageSpeed)}),"asc"):C.a.orderBy(t,(function(e){return Number(e.averageSpeed)}),"desc"):"Activity Time"===n.field?t=n.direction?C.a.orderBy(t,"movingTime","asc"):C.a.orderBy(t,"movingTime","desc"):"Elevation Gain"===n.field&&(t=n.direction?C.a.orderBy(t,"elevationGain","asc"):C.a.orderBy(t,"elevationGain","desc")),t}},{key:"render",value:function(){var e=this,t=this.props,n=t.allRows,a=t.activityUnit,r=t.setActivityUnit,c=window.location.href.split("/"),s=c[c.length-1];return this.props.userNames.includes(s)&&this.singleSetUser(s),i.a.createElement("div",null,i.a.createElement("button",{className:"km"===a?"selectedButton":"nonSelectedButton",onClick:function(){return r("km")}},"Km"),i.a.createElement("button",{className:"miles"===a?"selectedButton":"nonSelectedButton",onClick:function(){return r("miles")}},"Miles"),i.a.createElement("table",{className:"myTable"},i.a.createElement("thead",null,i.a.createElement("tr",null,this.getHeader(this.state.tableHead))),i.a.createElement("tbody",null,n.map((function(t,n){return e.getRowsData(t,n)})))),this.detailedRows())}}]),n}(r.Component),K=function(e){return{type:"FETCH_USERS_SUCCESS",payload:{users:e}}},$=function(e){return{type:"SET_CURRENT_USER",payload:{user:e}}},q=function(e){return{type:"FETCH_ACTIVITIES_SUCCESS",payload:{activities:e}}},Z=function(e){return{type:"SET_CURRENT_ACTIVITY_TYPE",payload:{activityType:e}}},ee=function(e){return{type:"SET_ACTIVITY_UNIT",payload:{activityUnit:e}}},te=Object(d.b)((function(e){return{allRows:R(e),currentUserCurrentActivityData:B(e),userNames:O(e),currentUser:D(e),currentActivityType:A(e),activityUnit:M(e)}}),(function(e){return{setCurrentUser:function(t){return e($(t))},setCurrentActivityType:function(t){return e(Z(t))},setActivityUnit:function(t){return e(ee(t))}}}))(z),ne=(n(80),function(e){Object(o.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={tableHead:["Name","No. Runs","Run Distance","No. Cycles","Cycle Distance","No. Swims","Swim Distance","Total Complete"],tableHeadSecond:["Date","Activity","Distance","Average Speed","Activity Time","Elevation Gain"],tableHeadSwim:["Date","Activity","Distance","Average Speed","Activity Time"]},a}return Object(u.a)(n,[{key:"getHeader",value:function(e){return e.map((function(e){return i.a.createElement("th",{className:E.isMobile?"myTableHeadersMobile":"myTableHeaders"},e)}))}},{key:"singleSetUser",value:function(e){var t=this.props,n=t.currentUser,a=t.setCurrentUser;e!==n&&a(e)}},{key:"setUser",value:function(e){var t=this.props,n=t.currentUser,a=t.setCurrentUser,r=window.location.href.split("/"),i=r[r.length-1];this.props.userNames.includes(i)&&i!==e&&(window.location=window.location.href.replace(i,"")),a(n===e?"":e)}},{key:"getRowsData",value:function(e,t){var n=this,a=this.props,r=a.currentUser,c=a.activityUnit,s=e.name,l=E.isMobile?parseFloat(e.runDistance).toFixed(1):e.runDistance,u=E.isMobile?parseFloat(e.runDistanceMile).toFixed(1):e.runDistanceMile,o=E.isMobile?parseFloat(e.bikeDistance).toFixed(1):e.bikeDistance,m=E.isMobile?parseFloat(e.bikeDistanceMile).toFixed(1):e.bikeDistanceMile,d=E.isMobile?parseFloat(e.swimDistance).toFixed(1):e.swimDistance,v=E.isMobile?parseFloat(e.swimDistanceMile).toFixed(1):e.swimDistanceMile,p=e.totalPercentage;return i.a.createElement("tr",{className:r===s?"selectedRow":"selectableRow",onClick:function(){return n.setUser(s)}},p>=100?i.a.createElement("td",{key:t,className:"myTableContents-complete"},s," (completed)"):i.a.createElement("td",{key:t,className:"myTableContents"},i.a.createElement(b.b,{className:"hidden-link",to:"/strava-competition/".concat(s)},s)),i.a.createElement("td",{key:t,className:"myTableContents"},e.runQuantity),i.a.createElement("td",{key:t,className:"myTableContents"},"km"===c?l+"km":u+"miles"),i.a.createElement("td",{key:t,className:"myTableContents"},e.bikeQuantity),i.a.createElement("td",{key:t,className:"myTableContents"},"km"===c?o+"km":m+"miles"),i.a.createElement("td",{key:t,className:"myTableContents"},e.swimQuantity),i.a.createElement("td",{key:t,className:"myTableContents"},"km"===c?d+"km":v+"miles"),i.a.createElement("td",{key:t,className:"myTableContents"},p.toFixed(2),"%"))}},{key:"detailedRows",value:function(){var e=this.props,t=e.currentUser,n=e.currentActivityType,a=e.setCurrentActivityType,r=e.activityUnit,c=e.formattedUserSpecificActivityForCurrentYear;return""===t?i.a.createElement("br",null):i.a.createElement("div",null,i.a.createElement("button",{className:"run"===n?"selectedButton":"nonSelectedButton",onClick:function(){return a("run")}},"Run"),i.a.createElement("button",{className:"cycle"===n?"selectedButton":"nonSelectedButton",onClick:function(){return a("cycle")}},"Cycle"),i.a.createElement("button",{className:"swim"===n?"selectedButton":"nonSelectedButton",onClick:function(){return a("swim")}},"Swim"),c.length>0?i.a.createElement("div",null,i.a.createElement(W,{currentYear:!0}),i.a.createElement("table",{className:"myTableTwo"},i.a.createElement("thead",null,i.a.createElement("tr",null,this.getHeader(this.state.tableHeadSecond))),i.a.createElement("tbody",null,c.map((function(e){var t="km"===r?"km":"mile",a="km"===r?"k":"m",c="km"===r?"100m":"100y";return i.a.createElement("tr",null,i.a.createElement("td",null,e.date),i.a.createElement("td",null,e.activity),i.a.createElement("td",null,"km"===r?e.distance+("swim"===n?"m":" km"):e.distanceMile+" miles"),i.a.createElement("td",null,"km"===r?e.averageSpeed:e.averageSpeedMile,"cycle"===n?a+"ph":"min/"+("run"===n?t:c)),i.a.createElement("td",null,e.movingTime," min"),i.a.createElement("td",null,e.elevationGain," m"))}))))):i.a.createElement("h6",{style:{paddingTop:"20px"}},t," is yet to ",n," this year"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.allRows,a=t.activityUnit,r=t.setActivityUnit,c=F.getMonth()+1,s=window.location.href.split("/"),l=s[s.length-1];return this.props.userNames.includes(l)&&this.singleSetUser(l),i.a.createElement("div",null,i.a.createElement("h4",null,"Jan - ",x," Triathlon"),i.a.createElement("h6",null,"Run ",U*c," km, Cycle ",N*c," km & Swim ",_*c," km"),i.a.createElement("p",{style:{fontSize:"11px",padding:0}},"(",U," km, ",N," km & ",_," km a month)"),i.a.createElement("button",{className:"km"===a?"selectedButton":"nonSelectedButton",onClick:function(){return r("km")}},"Km"),i.a.createElement("button",{className:"miles"===a?"selectedButton":"nonSelectedButton",onClick:function(){return r("miles")}},"Miles"),i.a.createElement("table",{className:"myTable"},i.a.createElement("thead",null,i.a.createElement("tr",null,this.getHeader(this.state.tableHead))),i.a.createElement("tbody",null,n.map((function(t,n){return e.getRowsData(t,n)})))),this.detailedRows())}}]),n}(r.Component)),ae=Object(d.b)((function(e){return{allRows:Q(e),formattedUserSpecificActivityForCurrentYear:G(e),userNames:O(e),currentUser:D(e),currentActivityType:A(e),activityUnit:M(e)}}),(function(e){return{setCurrentUser:function(t){return e($(t))},setCurrentActivityType:function(t){return e(Z(t))},setActivityUnit:function(t){return e(ee(t))}}}))(ne),re=(n(81),function(e){Object(o.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={alerted:!1},a}return Object(u.a)(n,[{key:"notifyPhone",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.publicIpv4)();case 2:t=e.sent,n=E.isMobile?"".concat(E.mobileVendor," ").concat(E.mobileModel):navigator.platform,a="https://maker.ifttt.com/trigger/site_visited/with/key/b_Yu8_AU_JIDYDYR_WXF5-?value1="+t+"&value2="+n+"&value3=Strava",this.state.alerted||(fetch(a,{method:"post"}).catch((function(e){return console.log(e)})),this.setState(Object(y.a)(Object(y.a)({},this.state),{},{alerted:!0})));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){(0,this.props.fetchUsers)()}},{key:"render",value:function(){return this.notifyPhone(),i.a.createElement("div",null,i.a.createElement(b.a,{basename:"/strava"},i.a.createElement("h2",{className:"myHeading"},i.a.createElement("a",{className:"rajbar-link",href:"https://raj.bar"},"raj.Bar")," ",i.a.createElement(b.b,{className:"rajbar-link",to:"/home"},"/")," ",i.a.createElement(b.b,{className:"rajbar-link",to:"/strava-competition"},"strava")),i.a.createElement(h.b,{exact:!0,path:"/"},i.a.createElement(h.a,{to:"/home"})),i.a.createElement(h.b,{path:"/home",render:function(){return i.a.createElement(te,null)}}),i.a.createElement(h.b,{path:"/strava-competition",render:function(){return i.a.createElement(ae,null)}})))}}]),n}(r.Component)),ie=Object(d.b)((function(){return{}}),(function(e){return{fetchUsers:function(){return e({type:"FETCH_USERS"})}}}))(re),ce=function(e){Object(o.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(ie,null))}}]),n}(r.Component),se=n(17),le=n(45),ue={users:[],currentUser:"",error:null},oe=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{users:t.payload.users})},me=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{error:t.payload.error})},de=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{currentUser:t.payload.user})},ve={activities:[],currentActivityType:"run",activityUnit:"km",error:null},pe=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{activities:t.payload.activities})},ye=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{error:t.payload.error})},fe=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{currentActivityType:t.payload.activityType})},be=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{activityUnit:t.payload.activityUnit})},he=Object(se.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS_SUCCESS":return oe(e,t);case"FETCH_USERS_FAILURE":return me(e,t);case"SET_CURRENT_USER":return de(e,t);default:return e}},activities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ACTIVITIES_SUCCESS":return pe(e,t);case"FETCH_ACTIVITIES_FAILURE":return ye(e,t);case"SET_CURRENT_ACTIVITY_TYPE":return fe(e,t);case"SET_ACTIVITY_UNIT":return be(e,t);default:return e}}}),Ee=n(11),ke=p.a.mark(Ce),we=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.rajbariah.com/strava/activities",e.next=3,fetch("https://api.rajbariah.com/strava/activities").then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(e,t){return Math.round(e+t.distance)},Te=function(e,t,n){return Object(w.a)(n).filter((function(n){return n.type===e&&n.athlete.id.toString()===t}))},ge=function(e,t,n){var a=Te("Run",e,n),r=a.length>0?a.reduce(Se,0)/1e3:0,i=Te("Ride",e,n),c=i.length>0?i.reduce(Se,0)/1e3:0,s=Te("Swim",e,n),l=s.length>0?s.reduce(Se,0)/1e3:0;return{name:t,runQuantity:a.length,runDistance:r,runDistanceMile:(.6214*r).toFixed(2),bikeQuantity:i.length,bikeDistance:c,bikeDistanceMile:(.6214*c).toFixed(2),swimQuantity:s.length,swimDistance:l,swimDistanceMile:(.6214*l).toFixed(2),allRuns:a.map((function(e,t){var n=e.distance/1e3,a=e.moving_time/60,r=(e.distance/1e3).toFixed(2),i=(.6214*n).toFixed(2),c=(e.moving_time/60).toFixed(0),s=1/(n/(a/60))*60,l=Math.floor(s),u=.6*(s-l);"0.60"===u.toFixed(2)&&(l+=1,u=0);var o=(l+u).toFixed(2),m=1/(.6214*n/(a/60))*60,d=Math.floor(m),v=.6*(m-d);"0.60"===u.toFixed(2)&&(d+=1,v=0);var p=(d+v).toFixed(2),y=e.start_date.substr(8,2)+"/"+e.start_date.substr(5,2)+"/"+e.start_date.substr(2,2),f=e.total_elevation_gain;return{date:y,startDate:e.start_date,activity:"Run",distance:r,distanceMile:i,movingTime:c,averageSpeed:o,averageSpeedMile:p,elevationGain:f}})),allCycles:i.map((function(e,t){var n=(e.distance/1e3).toFixed(2),a=(.6214*n).toFixed(2),r=(e.moving_time/60).toFixed(0),i=(n/(r/60)).toFixed(1),c=(.6214*i).toFixed(1),s=e.start_date.substr(8,2)+"/"+e.start_date.substr(5,2)+"/"+e.start_date.substr(2,2),l=e.total_elevation_gain;return{date:s,startDate:e.start_date,activity:"Cycle",distance:n,distanceMile:a,movingTime:r,averageSpeed:i,averageSpeedMile:c,elevationGain:l}})),allSwims:s.map((function(e,t){var n=e.distance/100,a=e.distance/1e3,r=e.moving_time/60,i=e.distance,c=(.6214*a).toFixed(2),s=(e.moving_time/60).toFixed(0),l=1/(n/(r/60))*60,u=Math.floor(l),o=.6*(l-u);"0.60"===o.toFixed(2)&&(u+=1,o=0);var m=(u+o).toFixed(2),d=.6214*a/(r/60),v=100/(1760*d)*60,p=Math.floor(v),y=.6*(v-p);"0.60"===y.toFixed(2)&&(p+=1,y=0);var f=(p+y).toFixed(2);return{date:e.start_date.substr(8,2)+"/"+e.start_date.substr(5,2)+"/"+e.start_date.substr(2,2),startDate:e.start_date,activity:"Swim",distance:i,distanceMile:c,movingTime:s,averageSpeed:m,averageSpeedMile:f}}))}};function Ce(e){var t,n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ee.a)(we);case 3:return t=a.sent,n=e.map((function(e){return ge(e.athleteID,e.name,t)})),a.next=7,Object(Ee.b)(q(n));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(Ee.b)({type:"FETCH_ACTIVITIES_FAILURE",payload:{error:a.t0}});case 13:case"end":return a.stop()}}),ke,null,[[0,9]])}var je=p.a.mark(De),Oe=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.rajbariah.com/strava/users",e.next=3,fetch("https://api.rajbariah.com/strava/users").then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function De(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ee.a)(Oe);case 3:return e=t.sent,t.next=6,Object(Ee.b)(K(e));case 6:return t.next=8,Object(Ee.a)(Ce,e);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(Ee.b)({type:"FETCH_USERS_FAILURE",payload:{error:t.t0}});case 14:case"end":return t.stop()}}),je,null,[[0,10]])}var Ue=p.a.mark(Ne);function Ne(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ee.c)("FETCH_USERS",De);case 2:case"end":return e.stop()}}),Ue)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=function(e){var t=Object(le.a)(),n=Object(se.d)(Object(se.a)(t),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__({name:"strava-stats"}):function(e){return e}),r=Object(se.e)(he,e,n);return Object.keys(a).forEach((function(e){t.run(a[e])})),r}({});s.a.render(i.a.createElement(d.a,{store:_e},i.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.a9edb6b8.chunk.js.map